"use strict";(self.webpackChunkalthread=self.webpackChunkalthread||[]).push([[827],{916:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var t=s(6070),i=s(5710);const r={sidebar_position:5},o="Cr\xe9er des tests",l={id:"guide/test",title:"Cr\xe9er des tests",description:"Nous allons maintenant voir comment cr\xe9er des tests pour vos processus. Ces tests servent \xe0 contr\xf4ler les comportements de vos processus et \xe0 v\xe9rifier qu'ils fonctionnent correctement.",source:"@site/docs/guide/test.md",sourceDirName:"guide",slug:"/guide/test",permalink:"/docs/guide/test",draft:!1,unlisted:!1,editUrl:"https://github.com/althread/althread/tree/main/doc/docs/guide/test.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"guideSidebar",previous:{title:"Attente multiple de messages",permalink:"/docs/guide/channels/multiple-wait"},next:{title:"D\xe9boguer",permalink:"/docs/guide/debugging"}},c={},d=[{value:"Blocs de test",id:"blocs-de-test",level:2},{value:"Fonction assert (non impl\xe9ment\xe9e)",id:"fonction-assert-non-impl\xe9ment\xe9e",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cr\xe9er-des-tests",children:"Cr\xe9er des tests"})}),"\n",(0,t.jsx)(n.p,{children:"Nous allons maintenant voir comment cr\xe9er des tests pour vos processus. Ces tests servent \xe0 contr\xf4ler les comportements de vos processus et \xe0 v\xe9rifier qu'ils fonctionnent correctement."}),"\n",(0,t.jsx)(n.h2,{id:"blocs-de-test",children:"Blocs de test"}),"\n",(0,t.jsx)(n.p,{children:"En Althread, il existe 3 types de blocs de tests :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"always"}),": v\xe9rifie qu'une condition est remplie \xe0 chaque it\xe9ration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"never"}),": v\xe9rifie qu'une condition n'est jamais remplie lors de l'ex\xe9cution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"eventually"}),": v\xe9rifie qu'une condition est remplie \xe0 un moment donn\xe9"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Voici un exemple de l'utilisation de ces conditions :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-althread",children:"shared {\n    let X: int;\n}\n\nprogram A() {\n    X++;\n}\n\nprogram B() {\n    X--;\n}\n\nmain {\n    atomic {\n        run A();\n        run B();\n    }\n}\n\nalways {\n    X < 1;\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Ici, le bloc ",(0,t.jsx)(n.code,{children:"always"})," v\xe9rifie que la variable ",(0,t.jsx)(n.code,{children:"X"})," est toujours inf\xe9rieure \xe0 1. Le test ne passera que si le processus de type ",(0,t.jsx)(n.code,{children:"B"})," est ex\xe9cut\xe9 avant le processus de type ",(0,t.jsx)(n.code,{children:"A"}),"."]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Il n'est pas possible d'utiliser le bloc de test pour des variables locales \xe0 un processus."})}),"\n",(0,t.jsx)(n.h2,{id:"fonction-assert-non-impl\xe9ment\xe9e",children:"Fonction assert (non impl\xe9ment\xe9e)"}),"\n",(0,t.jsx)(n.p,{children:"La fonction assert permet de v\xe9rifier si une condition est remplie. Si la condition n'est pas remplie, le test \xe9choue et affiche un message d'erreur."}),"\n",(0,t.jsx)(n.p,{children:"Voici un exemple de l'utilisation de la fonction assert :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-althread",children:'shared {\n    let X: int;\n}\n\nprogram A() {\n    X++;\n}\n\nprogram B() {\n    X--;\n}\n\nmain {\n    atomic {\n        run A();\n        run B();\n    }\n    \n    assert(X < 1, "X doit \xeatre inf\xe9rieur \xe0 1");\n}\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Il est possible d'utiliser ",(0,t.jsx)(n.code,{children:"assert"}),"sur des variables locales \xe0 un processus."]})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},5710:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(758);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);